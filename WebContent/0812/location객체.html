<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
	function proc1(){
		//http://localhost/webpro/0812/%EB%B0%B0%EA%B2%BD%EC%83%89%EB%B0%94%EA%BE%B8%EA%B8%B0.html
		url = "http://localhost/webpro/0812/input.html";
		
		res = "href = " + location.href + "<br>";
		res += "port = " + location.port + "<br>";
		res += "host = " + location.host + "<br>";
		res += "hostname = " + location.hostname + "<br>";
		res += "pathname = " + location.pathname + "<br>";
		res += "protocol = " + location.protocol + "<br>";
	
		//document.querySelector("#result1").innerHTML = now;
		document.getElementById('result1').innerHTML = res;
	}
	
	function proc2(){
		location.href = "test.jsp";		
	}
	
	function goPage(){
		location.href = "test.jsp?id=a001";
	}
	
	function goPagePost(){
		// form 검색 - id 이용
		document.getElementById("ff");
		
		// form 검색 - name을 이용
		document.getElementsByName("ff")[0]
		document.ff.action = "testpost.jsp";
		document.ff.method = "post";
		document.ff.submit();
		
	}
	
	function goReplace(url){
		location.replace(url);
	}
	
	function goReload(){
		// 문자열 배열을 생성, 랜덤을 이용해서 문자열중 하나를 출력한다
		str = ["Hello~~", "happy", "javascript", "jQuery", "HTML", "css"];
		
		// str[0], str[4], str[1]
		rand = Math.floor(Math.random()*str.length);
		
		// 랜덤발생 0 ~ str.length - str[랜덤]
		res = str[rand];
		document.getElementById('result2').innerHTML = res;
		
		// 출력후 - #result2 - 글자색 빨강, 글자크기 확대
		result2.style.color = "red";		
		result2.style.fontSize = "1.5em";	
		
		// 1초 경과후 원래 페이지로 다시 로드한다
		setTimeout(function(){
			location.reload();
		},1000)
	}
</script>
</head>
<body>

<div class="box">
	<h3>1. url 정보 얻기 </h3>
	- herf : 전체 url<br>
	- port : 경로 반환 / 80 기본 웹폰트로 생략 <br>
	- host : url중에서 hostname과 port를 반환<br>
	- hostname : url중에서 hostname을 반환 / localhost <br>
	- pathname : url중에서 경로(path)를 반환<br>
	- protocol : url중에서 protocol을 반환
	<br><br>
	<input type="button" value="확인" onclick="proc1()">
	<br><br>
	<h2>실행결과</h2>
	<div id="result1"></div>
</div>

<div class="box">
	<h3>2. location객체 이용 </h3>
	- 자동으로 특정 페이지 이동할때 사용 
	<input type="button" value="페이지이동" onclick="proc2()"><br>
	
	- a태그이용 a href속성값으로  javascript함수를 호출 하도록 설정한다
	<a href="javascript:goPage()">공지사항목록</a><br>
	
	- 이벤트사용(get) : 
	<input type="button" value="공지사항목록" onclick="goPage()"><br>
	
	- 이벤트사용(post) : 
	<form name="ff" id="ff">
	<input type="hidden" value="korea" name="id">
	<input type="button" value="공지사항목록" onclick="goPagePost()">
	</form>
	
	- 새로운문서로대체(replace(URL)) : 원래 페이지로 돌아올 수 없다
	<input type="button" value="공지사항목록" onclick="goReplace('test.jsp')"><br>
	
	- 현재문서를 다시로드 : 
	<input type="button" value="페이지재호출" onclick="goReload()">
	<div id="result2"> </div>
	
	<br><br>
	<h2>실행결과</h2>
	<div id="result3"></div>
</div>

</body>
</html>