<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>
table{
	border-collapse : collapse; 
}
td{
	width : 200px;
	height : 40px;
}
#td1{
	height : 300px;
}
select{
	width : 100%;
	height : 100%;
}
</style>
<script>
window.onload = function(){
	form = document.ff;
	form.data.focus();
}


 function add(){
		// 입력한값 가져오기
		datavalue = form.data.value;
		
		if(datavalue.trim().length > 0){
		// left에 option태그 만들기 <option value="asd"> dfdf </option>
		// value와 text속성 설정
		opt = document.createElement('option');
		opt.value = datavalue;
		opt.text = datavalue;
		
		// left에 추가
		form.left.appendChild(opt);
		form.data.value = "";
		form.data.focus();	
		}
 }

 function toRight(){	// 오른쪽으로 보내기
	 // 왼쪽에서 한개를 선택 
	 idx = form.left.selectedIndex;
	 console.log("idx = " + idx)
	 
	 // 선택한 항목이 없으면 메세지창 띄우기
	 if(idx < 0){
		 alert("항목을 선택하세요.");
		 return;
	 }
	 
	 // 왼쪽의 option에서 선택한 번째의 값을 가져온다.
	 lvalue = form.left.options[idx].value;
	 
	 // option태그를 생성
	 opt = document.createElement('option');
	 
	 // value, text를 설정
	 opt.value = lvalue;
	 opt.text = lvalue;
	 
	 // 오른쪽에 option태그를 추가
	 form.right.appendChild(opt);
	 
	 // 왼쪽에서는 삭제 - 왼쪽에서 선택한 옵션
	 form.left.removeChild(form.left.options[idx]);
 }
 
 
 function rightAll(){	// 오른쪽으로 전부 보내기
	// 왼쪽의 option 의 갯수를 얻어온다
	len = form.left.length;
	
	// 갯수만큼 반복한다
	for(i=0; i<len; i++){
		// 왼쪽에서 차례대로 i번째의 값을 가져온다
		lvalue = form.left.options[i].value;
		// option 생성
		opt = document.createElement('option');
		// text와 value를 설정
		opt.value = lvalue;
		opt.text = lvalue;
		// 오른쪽 select에 추가한다
		form.right.appendChild(opt);
		
	}
	
	// 갯수만큼 지우기를 반복
	for(i=0; i<len; i++){
		form.left.removeChild(form.left.options[0]);
	}
 }
 
 
 function toLeft(){	// 왼쪽으로 보내기
	 // 오른쪽에서 한개를 선택 
	 idx = form.right.selectedIndex;
	 console.log("idx = " + idx)
	 
	 // 선택한 항목이 없으면 메세지창 띄우기
	 if(idx < 0){
		 alert("항목을 선택하세요.");
		 return;
	 }
	 
	 // 오른쪽의 option에서 선택한 번째의 값을 가져온다.
	 rvalue = form.right.options[idx].value;
	 
	 // option태그를 생성
	 opt = document.createElement('option');
	 
	 // value, text를 설정
	 opt.value = rvalue;
	 opt.text = rvalue;
	 
	 // 왼쪽에 option태그를 추가
	 form.left.appendChild(opt);
	 
	 // 오른쪽에서는 삭제 - 오른쪽에서 선택한 옵션
	 form.right.removeChild(form.right.options[idx]);
 }
 
 
 function leftAll(){	// 왼쪽으로 전부 보내기
		// 오른쪽의 option 의 갯수를 얻어온다
		rig = form.right.length;
		
		// 갯수만큼 반복한다
		for(i=0; i<rig; i++){
			// 오른쪽에서 차례대로 i번째의 값을 가져온다
			lvalue = form.right.options[i].value;
			// option 생성
			opt = document.createElement('option');
			// text와 value를 설정
			opt.value = lvalue;
			opt.text = lvalue;
			// 왼쪽 select에 추가한다
			form.left.appendChild(opt);
		}
		
		// 갯수만큼 지우기를 반복
		for(i=0; i<rig; i++){
			form.right.removeChild(form.right.options[0]);
		}
	 }
</script>
</head>
<body>

<div class="box">
	<h3>1. </h3>
	- 다음과 같이 데이터를 교환하는 프로그램을 만드시오.<br>
	&nbsp;&nbsp;&nbsp;Select객체_문제<br>
	<br>
<form name="ff">
<table border="1">

	<tr>
		<td colspan="3">
		<h2 align="center">Select 객체 예제</h2>
		</td>
	</tr>
	
	<tr>
		<td id="td1" align="center">
			<select name="left" multiple="multiple" size=17></select>
		</td>
		
		<td id="td1" align="center">
		<input type="button" value=">" onclick="toRight()"><br>
		<input type="button" value=">>" onclick="rightAll()"><br>
		<input type="button" value="<" onclick="toLeft()"><br>
		<input type="button" value="<<" onclick="leftAll()"><br>
		</td>
		
		<td id="td1" align="center">
			<select name="right" multiple="multiple" size=17></select>
		</td>
	</tr>
	
	<tr align="center" >
		<td colspan="3">
		<input type="text" name="data">
		<input type="button" value="추가하기" onclick="add()">
		</td>
	</tr>
	
</table>
</form>	
</div>
</body>
</html>